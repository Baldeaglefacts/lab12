(function(){"use strict";var t={98:function(t,e,n){var r=n(963),d=n(252);const s={id:"app"},u=(0,d._)("h1",{class:"m-2"},"Student Sign In",-1);function a(t,e,n,r,a,i){const o=(0,d.up)("new-student-form"),l=(0,d.up)("student-table"),c=(0,d.up)("student-message");return(0,d.wg)(),(0,d.iD)("div",s,[u,(0,d.Wm)(o,{onStudentAdded:i.newStudentAdded},null,8,["onStudentAdded"]),(0,d.Wm)(l,{students:a.students,onStudentPresent:i.studentArrivedOrLeft,onDeleteStudent:i.studentDeleted},null,8,["students","onStudentPresent","onDeleteStudent"]),(0,d.Wm)(c,{student:a.mostRecentStudent},null,8,["student"])])}var i=n(577);const o={class:"alert alert-danger"},l={class:"card add-student m-2 p-2"},c=(0,d._)("h4",{class:"card-title"},"Add new student",-1),p={class:"form-group"},h=(0,d._)("label",{for:"name"},"Name",-1),m={class:"form-group"},f=(0,d._)("label",{for:"starID"},"Star ID",-1);function S(t,e,n,s,u,a){return(0,d.wg)(),(0,d.iD)("div",null,[(0,d.wy)((0,d._)("div",o,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(u.errors,(t=>((0,d.wg)(),(0,d.iD)("li",{key:t},(0,i.zw)(t),1)))),128))],512),[[r.F8,u.errors.length>0]]),(0,d._)("div",l,[c,(0,d._)("div",p,[h,(0,d.wy)((0,d._)("input",{id:"name",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=t=>u.newStudentName=t)},null,512),[[r.nr,u.newStudentName,void 0,{trim:!0}]])]),(0,d._)("div",m,[f,(0,d.wy)((0,d._)("input",{id:"starID",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>u.newStarID=t)},null,512),[[r.nr,u.newStarID,void 0,{trim:!0}]])]),(0,d._)("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=(...t)=>a.addStudent&&a.addStudent(...t))},"Add")])])}var A={name:"NewStudentForm",emits:["student-added"],data(){return{newStudentName:"",newStarID:"",errors:[]}},methods:{addStudent(){if(this.errors=[],this.newStudentName||this.errors.push("Student name is required"),this.newStarID||this.errors.push("StarID is required"),0==this.errors.length){let t={name:this.newStudentName,starID:this.newStarID,present:!1};this.$emit("student-added",t),this.newStudentName="",this.newStarID=""}}}},w=n(744);const v=(0,w.Z)(A,[["render",S]]);var g=v;const b={key:0,class:"alert alert-success"},y={key:1,class:"alert alert-info"};function D(t,e,n,s,u,a){return(0,d.wg)(),(0,d.iD)("div",null,[(0,d.wy)((0,d._)("div",null,[n.student.present?((0,d.wg)(),(0,d.iD)("div",b," Welcome, "+(0,i.zw)(n.student.name)+"! ",1)):((0,d.wg)(),(0,d.iD)("div",y," Goodbye, "+(0,i.zw)(n.student.name)+". See you later! ",1))],512),[[r.F8,n.student.name]])])}var I={name:"StudentMessage",props:{student:Object}};const _=(0,w.Z)(I,[["render",D]]);var k=_;const O={class:"card student-list m-2 p-2"},C=(0,d._)("h4",{class:"card-title"},"Students",-1),M={class:"edit-table-toggle form-check"},j=(0,d._)("label",{for:"edit-table",class:"form-check-label"},"Edit table?",-1),x={id:"student-table"},E={class:"table"},F=(0,d._)("th",null,"Name",-1),U=(0,d._)("th",null,"StarID",-1),R=(0,d._)("th",null,"Present?",-1);function T(t,e,n,s,u,a){const i=(0,d.up)("StudentRow");return(0,d.wg)(),(0,d.iD)("div",null,[(0,d._)("div",O,[C,(0,d._)("div",M,[(0,d.wy)((0,d._)("input",{id:"edit-table",type:"checkbox",class:"form-check-input","onUpdate:modelValue":e[0]||(e[0]=t=>u.editTable=t)},null,512),[[r.e8,u.editTable]]),j]),(0,d._)("div",x,[(0,d._)("table",E,[(0,d._)("tr",null,[F,U,R,(0,d.wy)((0,d._)("th",null,"Delete",512),[[r.F8,u.editTable]])]),((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(n.students,(t=>((0,d.wg)(),(0,d.j4)(i,{key:t.name,student:t,edit:u.editTable,onStudentArrivedOrLeft:a.arrivedOrLeft,onDeleteStudent:a.studentDeleted},null,8,["student","edit","onStudentArrivedOrLeft","onDeleteStudent"])))),128))])])])])}var N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAM2SURBVGhD7ZnLbtNAFIYjbgt23FbAC7BCSmYIUqWIcalYsCTitoMtrItgwQKJdE0rlcsjoCJVFCQeAygPAJQNAVTiJCqgZjhneiyF5Iztie1JkfxLnxTLM+f8x554xuNKqVKlsks3m3t7s7LeVfIusNINxAfgRxjI3wj+7gZy3ZyDNthW36/soe7TU3+udhIMLoRKfAGD2oUwEBvYt9eQJyicP3Ua1aOhkk+BX5w5FzAGFLKMMSl8sYIrd62rxHfOTEbaGJvS5C/dPHUArtQzJnGuQBGPdbW6n9LmI32xehDMv+YSFgEU8QpzUvpsoivvzXwEFLGay53wMWxs4HAiG5MJAlznAvskDGqXyY6bOhdOH4NJ5xsX1DPtn4E4QrbSC28fE2xKiCWylU5mhnWZpM7Xdf/2Tf4cg2kLfbhzHOilp+rHyV6y4I+7wAViASN/3qxpvb2ttx7c49sMgW2wLfZxLKJF9uKFiywYPhtckDEi85ESiojMR3IpAgr4lGoB2A/EWS4AR//WjX8MGVmKGDVvBMcYY7StjZ6qSrJpl1kSM51t2IwNF5GmTSpmxR2yaReM/xds5xjiDOZm3iCek027oOH6eMdkWKMDOB4M6IA0sXlAyfdk0y56e+IDJMAWMaws5hGYWMmmXU7PfwZTBF75UcGdyGQeQG9k0658ChgZNigoyksB//0Qwj8K2zkB1jzeidHhlKUIJd6RTbuggBW2cwyseTIad46LFU+ax+hunsiUmCebdpkNKq4zg/elRFATZNMuWsx95gKMsRsXcyho3OKCsERFJJiPiIpwMY+ESjwke8nC7T6n+QCMFPxCs+X0QoOCRd0yF2w6iEWylV74Io0TBx/QI0p+3ZyrHyZbbgrPyatsUI/A8GmSnckEf54nXGAvKPmIbEyuna1FscomKBDMiR9OyEY2mc1dJda4REUAw+Zlbpu7kXCj1c9ml1jUjcY+Spu/QnXmCiRqjyfOTLuj5CVKU6zMIzYQS06TnQWcpPCqb87MHKLw/kQzdgv4yJmLA/vg8sB5hi1CuMjCTSfct8E1O7544Hc0vEPIzjc18ZbOzeOqMvXCrFSpUjGqVP4C/xYkeiCFjZAAAAAASUVORK5CYII=";const G=["checked"];function K(t,e,n,s,u,a){return(0,d.wg)(),(0,d.iD)("tr",{class:(0,i.C_)({present:n.student.present,absent:!n.student.present})},[(0,d._)("td",null,(0,i.zw)(n.student.name),1),(0,d._)("td",null,(0,i.zw)(n.student.starID),1),(0,d._)("td",null,[(0,d._)("input",{type:"checkbox",checked:n.student.present,onChange:e[0]||(e[0]=t=>a.arrivedOrLeft(n.student,t.target.checked))},null,40,G)]),(0,d.wy)((0,d._)("td",null,[(0,d._)("img",{class:"delete-icon",onClick:e[1]||(e[1]=(...t)=>a.deleteStudent&&a.deleteStudent(...t)),src:N})],512),[[r.F8,n.edit]])],2)}var L={name:"StudentRow",emits:["student-arrived-or-left","delete-student"],props:{student:Object,edit:Boolean},methods:{arrivedOrLeft(t,e){this.$emit("student-arrived-or-left",t,e)},deleteStudent(){confirm(`Delete ${this.student.name}?`)&&this.$emit("delete-student",this.student)}}};const Q=(0,w.Z)(L,[["render",K]]);var Z=Q,Y={name:"StudentTable",components:{StudentRow:Z},emits:["student-present","delete-student"],data(){return{editTable:!1}},props:{students:Array},methods:{arrivedOrLeft(t,e){this.$emit("student-present",t,e)},studentDeleted(t){this.$emit("delete-student",t)}}};const z=(0,w.Z)(Y,[["render",T]]);var P=z,W={name:"app",components:{NewStudentForm:g,StudentMessage:k,StudentTable:P},data(){return{students:[],mostRecentStudent:{}}},mounted(){this.updateStudents()},methods:{newStudentAdded(t){this.$student_api.addStudent(t).then((()=>{this.updateStudents()})).catch((t=>{if(console.log("Error fetching student list",t),t.response.data&&Array.isArray(t.response.data)){let e=t.response.data.join(",");alert("Error adding student\n"+e)}else console.error("Error adding student",t.response),alert("Sorry, unable to add student")}))},studentArrivedOrLeft(t,e){t.present=e,this.$student_api.updateStudent(t).then((()=>{this.mostRecentStudent=t,this.updateStudents()})).catch((t=>{console.error("Error updating student",t.response),alert("Sorry, unable to update student")}))},studentDeleted(t){this.$student_api.deleteStudent(t.id).then((()=>{this.updateStudents(),this.mostRecentStudent={}})).catch((t=>{console.error("Error deleting student",t.response),alert("Sorry, unable to delete student. They are too powerful to destroy.")}))},updateStudents(){this.$student_api.getAllStudents().then((t=>{this.students=t})).catch((t=>{console.error("Error getting latest student list",t.response),alert("Sorry, unable to fetch student list")}))}}};const B=(0,w.Z)(W,[["render",a]]);var J=B,V=n(669),X=n.n(V);const $="/api/students";var q={getAllStudents(){return X().get($).then((t=>t.data))},addStudent(t){return X().post($,t).then((t=>t.data))},updateStudent(t){return X().patch(`${$}/${t.id}`,t).then((t=>t.data))},deleteStudent(t){return X()["delete"](`${$}/${t}`).then((t=>t.data))}};let H=(0,r.ri)(J);H.config.globalProperties.$student_api=q,H.mount("#app")}},e={};function n(r){var d=e[r];if(void 0!==d)return d.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,r,d,s){if(!r){var u=1/0;for(l=0;l<t.length;l++){r=t[l][0],d=t[l][1],s=t[l][2];for(var a=!0,i=0;i<r.length;i++)(!1&s||u>=s)&&Object.keys(n.O).every((function(t){return n.O[t](r[i])}))?r.splice(i--,1):(a=!1,s<u&&(u=s));if(a){t.splice(l--,1);var o=d();void 0!==o&&(e=o)}}return e}s=s||0;for(var l=t.length;l>0&&t[l-1][2]>s;l--)t[l]=t[l-1];t[l]=[r,d,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var d,s,u=r[0],a=r[1],i=r[2],o=0;if(u.some((function(e){return 0!==t[e]}))){for(d in a)n.o(a,d)&&(n.m[d]=a[d]);if(i)var l=i(n)}for(e&&e(r);o<u.length;o++)s=u[o],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(l)},r=self["webpackChunkstudent_sign_in"]=self["webpackChunkstudent_sign_in"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(98)}));r=n.O(r)})();
//# sourceMappingURL=app.4f490311.js.map